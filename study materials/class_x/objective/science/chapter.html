<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='chapter.css'>
</head>
<body>
    

    <div id="container"></div>

<script>

  async function getUsers() {
  try {
    const response = await fetch(
      'https://script.google.com/macros/s/AKfycbyujs1_9BWkbFvUmxKcQxQZdhlD13gvqzuO2LfOrTXn2frViyq1qf-Va486qgm7q1w/exec',
      {
        method: 'GET',
      },
    );

    if (!response.ok) {
      throw new Error(`Error! status: ${response.status}`);
    }

    const data = await response.json();

    return data;
  } catch (error) {
    console.log(error);
  }
}

let container =document.getElementById('container');
const chaperP=document.createElement('p');
chaperP.innerText='Chapters';
chaperP.className='title';
container.appendChild(chaperP);

function chaptersf(links,buttonText){
 const chDiv=document.createElement('div');
  let chapLinks=document.createElement('a');
  chapLinks.href=links;
  
  
  const chapButton=document.createElement('button');
  chapButton.innerText=buttonText;
  chapLinks.appendChild(chapButton);
  chDiv.appendChild(chapLinks);
 return chDiv;
}

getUsers().then(data => {
  if (data && data.length > 0) {
    console.log(data[4].Chapter);

for(let i=1;i<=data[38].Chapter;i++){
  let chapters=chaptersf(data[2*i+2].links,data[2*i+2].Chapter);

  container.appendChild(chapters);
  
}


  }
  
});

</script>
</body>
</html>